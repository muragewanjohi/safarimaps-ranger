# Google Maps API Setup Guide

## 1. Android Package Name & iOS Bundle Identifier

### Your App Identifiers:
- **Android Package Name**: `com.safarimap.gamewarden`
- **iOS Bundle Identifier**: `com.safarimap.gamewarden`

These are now configured in your `app.config.js` file.

### Where to Find Them:
1. **In your app.config.js** (already set):
   ```javascript
   android: {
     package: 'com.safarimap.gamewarden',  // ‚Üê Android package name
   },
   ios: {
     bundleIdentifier: 'com.safarimap.gamewarden',  // ‚Üê iOS bundle identifier
   }
   ```

2. **After building your app**:
   - Android: Check `android/app/build.gradle` (generated by Expo)
   - iOS: Check `ios/YourApp/Info.plist` (generated by Expo)

## 2. Google Cloud Console API Key Setup

### Step 1: Create API Keys
1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Select your project (or create a new one)
3. Go to "APIs & Services" ‚Üí "Credentials"
4. Click "Create Credentials" ‚Üí "API Key"

### Step 2: Create Separate Keys for Each Platform

#### For Android:
1. Create a new API key
2. Click "Restrict Key"
3. Under "Application restrictions":
   - Select "Android apps"
   - Click "Add an item"
   - Enter package name: `com.safarimap.gamewarden`
   - Get your SHA-1 fingerprint (see below)
4. Under "API restrictions":
   - Select "Restrict key"
   - Choose: Maps SDK for Android, Places API, Geocoding API

#### For iOS:
1. Create a new API key
2. Click "Restrict Key"
3. Under "Application restrictions":
   - Select "iOS apps"
   - Click "Add an item"
   - Enter bundle ID: `com.safarimap.gamewarden`
4. Under "API restrictions":
   - Select "Restrict key"
   - Choose: Maps SDK for iOS, Places API, Geocoding API

#### For Web (Development):
1. Create a new API key
2. Click "Restrict Key"
3. Under "Application restrictions":
   - Select "HTTP referrers"
   - Add: `localhost:*`, `127.0.0.1:*`
4. Under "API restrictions":
   - Select "Restrict key"
   - Choose: Maps JavaScript API, Places API, Geocoding API

### Step 3: Get Android SHA-1 Fingerprint

For Android API key restriction, you need your app's SHA-1 fingerprint:

#### Method 1: Using Expo (Recommended)
```bash
# Install Expo CLI if you haven't
npm install -g @expo/cli

# Get your SHA-1 fingerprint
expo credentials:manager -p android
```

#### Method 2: Using Keytool (if you have Java installed)
```bash
# For debug keystore
keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android

# For release keystore (after building)
keytool -list -v -keystore android/app/my-upload-key.keystore -alias my-key-alias
```

## 3. Environment Variables Configuration

### Step 1: Create .env File
Create a `.env` file in your project root (same level as `package.json`):

```env
# Supabase Configuration (you already have these)
EXPO_PUBLIC_SUPABASE_URL=your_supabase_url_here
EXPO_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Google Maps API Keys (replace with your actual keys)
EXPO_PUBLIC_GOOGLE_MAPS_ANDROID_API_KEY=AIzaSyDmK6lC70JoC8fWSx7fPFN_EhAco5nSba4
EXPO_PUBLIC_GOOGLE_MAPS_IOS_API_KEY=AIzaSyDmK6lC70JoC8fWSx7fPFN_EhAco5nSba4
EXPO_PUBLIC_GOOGLE_MAPS_WEB_API_KEY=AIzaSyDmK6lC70JoC8fWSx7fPFN_EhAco5nSba4
```

### Step 2: Add .env to .gitignore
Make sure your `.env` file is in `.gitignore` to keep your API keys secure:

```gitignore
# Environment variables
.env
.env.local
.env.production
```

### Step 3: Install Dependencies
```bash
npm install
# or
yarn install
```

### Step 4: Test the Setup
```bash
# Start the development server
npx expo start

# Test on different platforms
npx expo start --android  # Uses Android API key
npx expo start --ios      # Uses iOS API key
npx expo start --web      # Uses Web API key
```

## 4. Enable Required APIs

In Google Cloud Console, make sure these APIs are enabled:

### Required APIs:
- ‚úÖ Maps SDK for Android
- ‚úÖ Maps SDK for iOS  
- ‚úÖ Maps JavaScript API (for web)
- ‚úÖ Places API
- ‚úÖ Geocoding API
- ‚úÖ Directions API (optional, for navigation)

### How to Enable:
1. Go to "APIs & Services" ‚Üí "Library"
2. Search for each API name
3. Click on it and press "Enable"

## 5. Security Best Practices

### API Key Restrictions:
- ‚úÖ **Android**: Restricted to package name + SHA-1 fingerprint
- ‚úÖ **iOS**: Restricted to bundle identifier
- ‚úÖ **Web**: Restricted to localhost for development

### Production Considerations:
- Use different API keys for development and production
- Monitor API usage in Google Cloud Console
- Set up billing alerts
- Rotate keys regularly

## 6. Troubleshooting

### Common Issues:

#### "API key not valid" error:
- Check if the API key is correctly set in `.env`
- Verify the API key restrictions match your app identifiers
- Ensure the required APIs are enabled

#### Maps not loading:
- Check browser console for errors
- Verify API key has correct permissions
- Test with unrestricted key first (then add restrictions)

#### Location permission denied:
- Check device location settings
- Verify app has location permissions
- Test on physical device (not simulator)

### Testing Checklist:
- [ ] API keys created and restricted
- [ ] Environment variables set in `.env`
- [ ] Dependencies installed (`npm install`)
- [ ] App builds successfully (`npx expo start`)
- [ ] Maps load on all platforms
- [ ] Location services work
- [ ] Markers display correctly

## 7. Next Steps

Once everything is working:
1. Test the map functionality in your app
2. Try adding new wildlife locations
3. Test location selection on the add-location screen
4. Verify markers appear correctly
5. Test on both iOS and Android devices

Your Google Maps integration should now be fully functional! üó∫Ô∏è
